{"version":3,"file":"o-percentage.pipe.js","sourceRoot":"","sources":["../../../tmp/ontimize/pipes/o-percentage.pipe.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAE,IAAI,EAAiB,QAAQ,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AAc1C;IAGkC,gCAAS;IAEzC,sBAAsB,QAAkB;QAAxC,YACE,kBAAM,QAAQ,CAAC,SAChB;QAFqB,cAAQ,GAAR,QAAQ,CAAU;;IAExC,CAAC;IAED,gCAAS,GAAT,UAAU,IAAY,EAAE,IAA0B;QAChD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACrD,OAAO,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IACxD,CAAC;IAES,qCAAc,GAAxB,UAAyB,KAA+B;QACtD,IAAM,MAAM,GAAG,QAAQ,CAAC,KAAY,EAAE,EAAE,CAAC,CAAC;QAC1C,IAAI,MAAM,KAAK,CAAC,IAAI,MAAM,KAAK,GAAG,EAAE;YAClC,OAAO,MAAM,CAAC;SACf;QACD,OAAO,CAAC,CAAC;IACX,CAAC;;gBApBF,IAAI,SAAC;oBACJ,IAAI,EAAE,UAAU;iBACjB;;;gBAjB6B,QAAQ;;IAqCtC,mBAAC;CAAA,AAtBD,CAGkC,SAAS,GAmB1C;SAnBY,YAAY","sourcesContent":["import { Pipe, PipeTransform, Injector } from '@angular/core';\nimport { ORealPipe } from './o-real.pipe';\n\nexport type OPercentageValueBaseType = 1 | 100;\n\nexport interface IPercentPipeArgument {\n  grouping?: boolean;\n  thousandSeparator?: string;\n  locale?: string;\n  decimalSeparator?: string;\n  minDecimalDigits?: number;\n  maxDecimalDigits?: number;\n  valueBase?: OPercentageValueBaseType;\n}\n\n@Pipe({\n  name: 'oPercent'\n})\nexport class OPercentPipe extends ORealPipe implements PipeTransform {\n\n  constructor(protected injector: Injector) {\n    super(injector);\n  }\n\n  transform(text: string, args: IPercentPipeArgument): string {\n    args.valueBase = this.parseValueBase(args.valueBase);\n    return this.numberService.getPercentValue(text, args);\n  }\n\n  protected parseValueBase(value: OPercentageValueBaseType): OPercentageValueBaseType {\n    const parsed = parseInt(value as any, 10);\n    if (parsed === 1 || parsed === 100) {\n      return parsed;\n    }\n    return 1;\n  }\n\n}\n"]}